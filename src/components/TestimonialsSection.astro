---
import ColoredText from './ColoredText.astro';
import TestimonialCard from './ui/TestimonialCard.astro';

export interface HeadingType {
  subtitle: string;
  title: string;
  highlight: string;
  description: string;
  highlightColor: string;
}
export interface TestimonialType {
  quote: string;
  author: string;
  title: string;
  image: string;
  borderColor: 'neon-cyan' | 'neon-purple';
}

const headingData: HeadingType = {
  subtitle: '//TESTIMONIALS',
  title: 'Voices of Satisfaction',
  highlight: 'Satisfaction',
  description: 'Hear from clients who have experienced the impact of my innovative digital solutions.',
  highlightColor: 'neon-cyan',
};
const testimonialsData: TestimonialType[] = [
  {
    quote:
      "Mark's VR platform revolutionized our medical training program. The immersive experience is unmatched!",
    author: 'Dr. Sarah Mitchell',
    title: 'Chief Surgeon, NeuroTech',
    image: '/img/female1.jpg',
    borderColor: 'neon-cyan',
  },
  {
    quote:
      'The AI music platform Synthia is a game-changer for our studio. Highly innovative and user-friendly.',
    author: 'James Carter',
    title: 'Music Producer, SoundWave Studios',
    image: '/img/male1.jpg',
    borderColor: 'neon-purple',
  },
  {
    quote:
      "The 3D art gallery brought our digital exhibitions to life. Mark's expertise is phenomenal.",
    author: 'Emma Liu',
    title: 'Curator, Digital Art Collective',
    image: '/img/female2.jpg',
    borderColor: 'neon-cyan',
  },
  {
    quote:
      'The AI Image Generator platform Luxia is a game-changer for our studio. Recommended Services from Mark.',
    author: 'Tom Anderson',
    title: 'Denial Studios',
    image: '/img/male2.jpg',
    borderColor: 'neon-purple',
  },
];
---

<section
  id="testimonials"
  class="py-20 lg:pt-24 lg:pb-20 relative overflow-hidden"
>
  <div class="absolute inset-0 cyber-grid opacity-20"></div>
  <div
    class="absolute bottom-0 right-0 w-96 h-96 bg-neon-purple/10 rounded-full blur-3xl"
  ></div>

  <div class="max-w-7xl mx-auto px-4 relative">
    <div class="mb-16 text-center">
      <span class="text-neon-cyan font-code">{headingData.subtitle}</span>
      <h2 class="text-4xl md:text-5xl font-bold mt-2">
        <ColoredText text={headingData.title} wordsPerColor={1} />
      </h2>
      <div class="h-1 w-24 bg-neon-purple mx-auto mt-4"></div>
      <p class="text-gray-300 max-w-3xl mx-auto mt-6">{headingData.description}</p>
    </div>

    <div id="testimonials-slider" class="splide">
      <div class="splide__track">
        <ul class="splide__list">
          {testimonialsData.map((testimonial) => (
            <li class="splide__slide">
              <TestimonialCard
                quote={testimonial.quote}
                author={testimonial.author}
                title={testimonial.title}
                image={testimonial.image}
                borderColor={testimonial.borderColor}
              />
            </li>
          ))}
        </ul>
      </div>
    </div>
  </div>

  <script>
    import Splide from '@splidejs/splide';
    document.addEventListener('DOMContentLoaded', () => {
      new Splide('#testimonials-slider', {
        type: 'loop',
        perPage: 2,
        perMove: 1,
        gap: '2rem',
        autoplay: true,
        interval: 5000,
        breakpoints: {
          768: { perPage: 1 },
        },
      }).mount();
    });
  </script>
</section>